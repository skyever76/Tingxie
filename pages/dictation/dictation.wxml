<!-- 听写核心页面 -->
<view class="container">
  <block wx:if="{{showSkeleton}}">
    <view class="skeleton-item" wx:for="{{[1,2,3]}}" wx:key="index">
      <view class="skeleton-title"></view>
    </view>
  </block>
  <block wx:elif="{{words.length > 0}}">
    <!-- 进度条 -->
    <view class="progress-bar">
      <view class="progress" style="width: {{(currentIndex + 1) / words.length * 100}}%"></view>
      <text class="progress-text">{{currentIndex + 1}}/{{words.length}}</text>
    </view>
    <!-- 当前词条 -->
    <view class="word-card">
      <text class="word-index">第{{currentIndex + 1}}题</text>
      <button class="tts-btn" bindtap="handlePlay">🔊 播放</button>
      <view class="next-area">
        <button class="next-btn" bindtap="handleNext">下一个</button>
      </view>
    </view>
    <!-- 自动下一个提示 -->
    <view class="auto-next-tip" wx:if="{{autoNext}}">
      <text>即将自动跳到下一题...</text>
    </view>
    <!-- 完成统计 -->
    <view class="finish-panel" wx:if="{{isFinished}}">
      <text>答题完成！共{{words.length}}题</text>
      <button class="restart-btn" bindtap="handleRestart">再来一轮</button>
    </view>
  </block>
  <view wx:else class="empty-tip">
    <text>暂无词条</text>
  </view>
  <view wx:if="{{errorMsg}}" class="error-tip">{{errorMsg}}</view>
</view> 